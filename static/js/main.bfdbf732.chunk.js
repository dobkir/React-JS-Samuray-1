(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,a){e.exports={nav:"Navbar_nav__1ayiN",item:"Navbar_item__YHNin",active:"Navbar_active__2lUO4"}},12:function(e,t,a){e.exports={container:"ProfileDataForm_container__2kzVp",fieldArea:"ProfileDataForm_fieldArea__gTPtT",errorField:"ProfileDataForm_errorField__28F3K",submit__btn:"ProfileDataForm_submit__btn__2SSE4"}},19:function(e,t,a){e.exports={container:"MyPosts_container__2ZEfq",title:"MyPosts_title__36jzM",post__area:"MyPosts_post__area__3N5ub",textarea:"MyPosts_textarea__3vA5y",post__footer:"MyPosts_post__footer__2u-0C",posts__btn:"MyPosts_posts__btn__27v15",item:"MyPosts_item__OG_Xx",avatar:"MyPosts_avatar__24E8e",post:"MyPosts_post__2WHjF"}},27:function(e,t,a){"use strict";a.d(t,"b",(function(){return p})),a.d(t,"c",(function(){return b})),a.d(t,"d",(function(){return O}));var n=a(5),r=a.n(n),s=a(10),c=a(2),i=a(9),o="SET-USER-DATA",u="samurai-network/auth/GET_CAPTCHA_URL_SUCCESS",l={userId:null,email:null,login:null,isAuth:!1,authError:null,captchaUrl:null},d=function(e,t,a,n,r){return{type:o,payload:{userId:e,email:t,login:a,isAuth:n,authError:r}}},j=function(e){return{type:u,payload:{captchaUrl:e}}},p=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.me();case 2:0===(a=e.sent).data.resultCode&&(n=a.data.data,s=n.id,c=n.login,o=n.email,t(d(s,o,c,!0,null)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(e,t,a,n){return function(){var c=Object(s.a)(r.a.mark((function s(c){var o,u;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.a.login(e,t,a,n);case 2:0===(o=r.sent).data.resultCode?c(p()):10===o.data.resultCode?c(f()):(u="Error: ".concat(o.data.messages),c(d(null,null,null,!1,u)));case 4:case"end":return r.stop()}}),s)})));return function(e){return c.apply(this,arguments)}}()},f=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.getCaptchaUrl();case 2:a=e.sent,n=a.data.url,t(j(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.logout();case 2:0===e.sent.data.resultCode&&t(d(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:case u:return Object(c.a)(Object(c.a)({},e),t.payload);default:return e}}},28:function(e,t,a){"use strict";var n=a(41),r=a(0);t.a=function(){return Object(r.jsx)("div",{children:Object(r.jsx)(n.a,{icon:["fas","spinner"],size:"lg",pulse:!0})})}},34:function(e,t,a){e.exports={header:"Header_header__1Hwsj",header__logo:"Header_header__logo__3C1pZ",header__title:"Header_header__title__D902-"}},35:function(e,t,a){e.exports={item:"Post_item__32iEG",avatar:"Post_avatar__3sPOd",post:"Post_post__3LW9b",like:"Post_like__wVZI9"}},57:function(e,t,a){"use strict";t.a=a.p+"static/media/samurai.a186db41.svg"},58:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(2),r=a(20),s=a(21),c=a(23),i=a(22),o=a(1),u=a.n(o),l=a(6),d=a(14),j=a(0),p=function(e){return{isAuth:e.auth.isAuth}},b=function(e){var t=function(t){Object(c.a)(o,t);var a=Object(i.a)(o);function o(){return Object(r.a)(this,o),a.apply(this,arguments)}return Object(s.a)(o,[{key:"render",value:function(){return this.props.isAuth?Object(j.jsx)(e,Object(n.a)({},this.props)):Object(j.jsx)(l.a,{to:"/login"})}}]),o}(u.a.Component);return Object(d.b)(p)(t)}},59:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return u}));var n=a(29),r=a(2),s="UPDATE-NEW-MESSAGE-BODY",c="SEND-MESSAGE",i={dialogs:[{id:1,name:"Dimych"},{id:2,name:"Andrey"},{id:3,name:"Sveta"},{id:4,name:"Sasha"},{id:5,name:"Victor"},{id:6,name:"Valera"}],messages:[{id:1,message:"Hi!"},{id:2,message:"How are you?"},{id:3,message:"Bebebe"},{id:4,message:"Yo"},{id:5,message:"Who am I?"}],newMessageBody:""},o=function(){return{type:c}},u=function(e){return{type:s,body:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(r.a)(Object(r.a)({},e),{},{newMessageBody:t.body});case c:var a=e.newMessageBody;return Object(r.a)(Object(r.a)({},e),{},{newMessageBody:"",messages:[].concat(Object(n.a)(e.messages),[{id:e.messages.length+1,message:a}])});default:return e}}},60:function(e,t,a){"use strict";a.d(t,"d",(function(){return v})),a.d(t,"e",(function(){return g})),a.d(t,"c",(function(){return _})),a.d(t,"b",(function(){return P})),a.d(t,"f",(function(){return S}));var n=a(5),r=a.n(n),s=a(10),c=a(29),i=a(2),o=a(9),u="FOLLOW",l="UNFOLLOW",d="SET-USERS",j="SET-CURRENT-PAGE",p="SET-TOTAL-USERS-COUNT",b="TOGGLE-IS-FETCHING",f="TOGGLE-IS-FOLLOWING-PROGRESS",O={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},h=function(e){return{type:u,userId:e}},m=function(e){return{type:l,userId:e}},v=function(e){return{type:j,currentPage:e}},x=function(e){return{type:b,isFetching:e}},g=function(e,t){return{type:f,isFetching:e,userId:t}},_=function(e,t){return function(){var a=Object(s.a)(r.a.mark((function a(n){var s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(x(!0)),n(v(e)),a.next=4,o.d.getUsers(e,t);case 4:s=a.sent,n(x(!1)),n((c=s.items,{type:d,users:c})),n((r=s.totalCount,{type:p,count:r}));case 8:case"end":return a.stop()}var r,c}),a)})));return function(e){return a.apply(this,arguments)}}()},y=function(){var e=Object(s.a)(r.a.mark((function e(t,a,n,s){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(g(!0,a)),e.next=3,n(a);case 3:0==e.sent.data.resultCode&&t(s(a)),t(g(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),P=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y(a,e,o.d.follow.bind(o.d),h);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y(a,e,o.d.unfollow.bind(o.d),m);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!0}):e}))});case l:return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!1}):e}))});case d:return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case j:return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.currentPage});case p:return Object(i.a)(Object(i.a)({},e),{},{totalUsersCount:t.count});case b:return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetching});case f:return Object(i.a)(Object(i.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(c.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}}},67:function(e,t,a){},7:function(e,t,a){e.exports={profile__top:"Profileinfo_profile__top__1CgO1",profile__area:"Profileinfo_profile__area__1FYpz",avatar__large:"Profileinfo_avatar__large__2mI0w",avatar__input:"Profileinfo_avatar__input__4uyLA",edit__btn:"Profileinfo_edit__btn__1avhE","upload-container":"Profileinfo_upload-container__3IorD",dragover:"Profileinfo_dragover__OjhTY",input__avatar:"Profileinfo_input__avatar__3vufW",profileLabel:"Profileinfo_profileLabel__3xbTU",profileStatus:"Profileinfo_profileStatus__fftkT",status__info:"Profileinfo_status__info__LRGol",inputStatus:"Profileinfo_inputStatus__9NWKb",contacts:"Profileinfo_contacts__20KkK"}},70:function(e,t,a){},9:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return o}));var n=a(61),r=n.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"6d42916e-ad19-4ca0-a218-14ad30106c58"}}),s={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return r.post("follow/".concat(e))},unfollow:function(e){return r.delete("follow/".concat(e))}},c={getProfile:function(e){return r.get("profile/".concat(e))},getStatus:function(e){return r.get("profile/status/".concat(e))},updateStatus:function(e){return r.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return r.put("profile",e)}},i={me:function(){return r.get("auth/me")},login:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r.post("auth/login",{email:e,password:t,rememberMe:a,captcha:n})},logout:function(){return r.delete("auth/login")}},o={getCaptchaUrl:function(){return r.get("security/get-captcha-url")}}},94:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=function(e){e&&e instanceof Function&&a.e(7).then(a.bind(null,102)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))},r=a(1),s=a.n(r),c=a(37),i=a.n(c),o=(a(67),a(24)),u=a(44);o.b.add(u.a,u.b);var l=a(20),d=a(21),j=a(23),p=a(22),b=(a(70),a(6)),f=a(18),O=a(14),h=a(30),m=a(2),v=a(34),x=a.n(v),g=a(0),_=function(e){var t=e.isAuth,a=e.login,n=e.logout;return Object(g.jsxs)("header",{className:x.a.header,children:[Object(g.jsx)("img",{className:x.a.header__logo,src:"data:image/png;base64,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",alt:"logo"}),Object(g.jsx)("h1",{className:x.a.header__title,children:"React Samurai"}),Object(g.jsx)("div",{className:x.a.loginBlock,children:t?Object(g.jsxs)("div",{children:[a," -- ",Object(g.jsx)("button",{onClick:n,children:"Log out"})," "]}):Object(g.jsx)(f.b,{to:"/login",children:"Login"})})]})},y=a(27),P=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(g.jsx)(_,Object(m.a)({},this.props))}}]),a}(s.a.Component),S=Object(O.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:y.d})(P),N=a(11),w=a.n(N),E=function(){return Object(g.jsxs)("nav",{className:w.a.nav,children:[Object(g.jsx)("div",{className:w.a.item,children:Object(g.jsx)(f.b,{to:"/profile",activeClassName:w.a.active,children:"Profile"})}),Object(g.jsx)("div",{className:w.a.item,children:Object(g.jsx)(f.b,{to:"/dialogs",activeClassName:w.a.active,children:"Messages"})}),Object(g.jsx)("div",{className:w.a.item,children:Object(g.jsx)(f.b,{to:"/news",activeClassName:w.a.active,children:"News"})}),Object(g.jsx)("div",{className:w.a.item,children:Object(g.jsx)(f.b,{to:"/music",activeClassName:w.a.active,children:"Music"})}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{className:w.a.item,children:Object(g.jsx)(f.b,{to:"/users",activeClassName:w.a.active,children:"Find users"})}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{className:w.a.item,children:Object(g.jsx)(f.b,{to:"/settings",activeClassName:w.a.active,children:"Settings"})})]})},A=(a(94),a(31)),k=a(28),T=a(7),L=a.n(T),C=function(e){var t=Object(r.useState)(!1),a=Object(A.a)(t,2),n=a[0],s=a[1],c=Object(r.useState)(e.status),i=Object(A.a)(c,2),o=i[0],u=i[1];Object(r.useEffect)((function(){u(e.status)}),[e.status]);return Object(g.jsxs)("div",{className:L.a.profileStatus,children:[!n&&Object(g.jsx)("div",{children:Object(g.jsx)("span",{className:"".concat(L.a.status__info," ").concat(L.a.profileStatus),onDoubleClick:function(){s(!0)},children:e.status||"-------"})}),n&&Object(g.jsx)("div",{children:Object(g.jsx)("textarea",{className:L.a.inputStatus,onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!1),e.updateStatus(o)},value:o})})]})},M=a(25),I=a(56),F=a(12),U=a.n(F),D=Object(O.b)((function(e){return{responseError:e.profilePage.responseError}}))((function(e){var t=e.onSubmit,a=e.profile,n=e.responseError,r=Object(I.a)();return Object(g.jsx)("div",{children:Object(g.jsx)(M.b,{onSubmit:t,validate:function(e){var t={};return e.fullName||(t.fullName="Required"),t},decorators:[r],subscription:{submitting:!0},initialValues:{fullName:a.fullName,lookingForAJob:!a.lookingForAJob,lookingForAJobDescription:a.lookingForAJobDescription,aboutMe:a.aboutMe,contacts:a.contacts},render:function(e){var t=e.handleSubmit,r=(e.form,e.submitting);e.pristine,e.values;return Object(g.jsxs)("form",{className:U.a.container,onSubmit:t,children:[Object(g.jsx)("div",{children:Object(g.jsx)("button",{className:U.a.submit__btn,type:"submit",disabled:r,children:"save"})}),n&&Object(g.jsx)("div",{className:U.a.errorField,children:n}),Object(g.jsx)(M.a,{name:"fullName",children:function(e){var t=e.input,a=e.meta;return Object(g.jsxs)("div",{className:"".concat(U.a.fieldArea," ").concat(a.active?U.a.active:""),children:[Object(g.jsx)("label",{children:"Full Name"}),Object(g.jsx)("input",Object(m.a)(Object(m.a)({},t),{},{type:"text",placeholder:"Full Name"})),a.error&&a.touched&&Object(g.jsx)("span",{children:a.error})]})}}),Object(g.jsx)(M.a,{name:"lookingForAJob",children:function(e){var t=e.input,a=e.meta;return Object(g.jsxs)("div",{className:"".concat(U.a.fieldArea," ").concat(a.active?U.a.active:""),children:[Object(g.jsx)("label",{children:"Looking for a job"}),Object(g.jsx)("input",Object(m.a)(Object(m.a)({},t),{},{type:"checkbox"}))]})}}),Object(g.jsx)(M.a,{name:"lookingForAJobDescription",children:function(e){var t=e.input,a=e.meta;return Object(g.jsxs)("div",{className:"".concat(U.a.fieldArea," ").concat(a.active?U.a.active:""),children:[Object(g.jsx)("label",{children:"My professional skills"}),Object(g.jsx)("textarea",Object(m.a)(Object(m.a)({},t),{},{type:"textarea",placeholder:"My professional skills"})),a.error&&a.touched&&Object(g.jsx)("span",{children:a.error})]})}}),Object(g.jsx)(M.a,{name:"aboutMe",children:function(e){var t=e.input,a=e.meta;return Object(g.jsxs)("div",{className:"".concat(U.a.fieldArea," ").concat(a.active?U.a.active:""),children:[Object(g.jsx)("label",{children:"About me"}),Object(g.jsx)("textarea",Object(m.a)(Object(m.a)({},t),{},{type:"textarea",placeholder:"About me"})),a.error&&a.touched&&Object(g.jsx)("span",{children:a.error})]})}}),Object(g.jsxs)("div",{children:[Object(g.jsx)("b",{children:"Contacts"}),": ",Object.keys(a.contacts).map((function(e){return Object(g.jsxs)("div",{children:[e,":",Object(g.jsx)(M.a,{name:"contacts."+e,children:function(t){var a=t.input,n=t.meta;return Object(g.jsxs)("div",{className:"".concat(U.a.fieldArea," ").concat(n.active?U.a.active:""),children:[Object(g.jsx)("input",Object(m.a)(Object(m.a)({},a),{},{type:"text",placeholder:e})),n.error&&n.touched&&Object(g.jsx)("span",{children:n.error})]})}})]},e)}))]})]})}})})})),R=a(57),B=function(e){var t=e.profile,a=e.isOwner,n=e.goToEditMode;return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{children:a&&Object(g.jsx)("div",{children:Object(g.jsx)("button",{className:L.a.edit__btn,onClick:n,children:">> Edit profile <<"})})}),Object(g.jsxs)("div",{children:[Object(g.jsx)("span",{className:L.a.profileLabel,children:"Full Name: "}),Object(g.jsxs)("span",{className:L.a.profileStatus,children:[" ",t.fullName]})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("span",{className:L.a.profileLabel,children:"Looking for a job: "}),Object(g.jsxs)("span",{className:L.a.profileStatus,children:[" ",t.lookingForAJob?"yes":"no"]})]}),t.lookingForAJob&&Object(g.jsxs)("div",{children:[Object(g.jsx)("span",{className:L.a.profileLabel,children:"My professional skills: "}),Object(g.jsx)("span",{className:L.a.profileStatus,children:t.lookingForAJobDescription})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("span",{className:L.a.profileLabel,children:"About me: "}),Object(g.jsx)("span",{className:L.a.profileStatus,children:t.aboutMe})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("span",{className:L.a.profileLabel,children:"Contacts"}),": ",Object.keys(t.contacts).map((function(e){return Object(g.jsx)(J,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},J=function(e){var t=e.contactTitle,a=e.contactValue;return Object(g.jsxs)("div",{className:"".concat(L.a.contacts," ").concat(L.a.profileStatus),children:[Object(g.jsx)("b",{children:t}),": ",a]})},H=function(e){var t=e.profile,a=e.status,n=e.updateStatus,s=e.isOwner,c=e.savePhoto,i=e.saveProfile,o=Object(r.useState)(!1),u=Object(A.a)(o,2),l=u[0],d=u[1];if(!t)return Object(g.jsx)(k.a,{});return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:L.a.profile__top}),Object(g.jsxs)("div",{className:L.a.profile__area,children:[Object(g.jsx)("img",{className:L.a.avatar__large,src:t.photos.large||R.a}),Object(g.jsxs)("div",{children:[Object(g.jsx)("span",{className:L.a.profileLabel,children:"Status "}),"(change on doubleclick):",Object(g.jsx)(C,{status:a,updateStatus:n})]}),Object(g.jsx)("div",{className:L.a.avatar__input,children:Object(g.jsxs)("label",{className:L.a.input__avatar,children:[s&&Object(g.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&c(e.target.files[0])}}),">> Choose an avatar <<"]})}),Object(g.jsx)("div",{children:l?Object(g.jsx)(D,{profile:t,onSubmit:function(e){console.log(e),i(e).then((function(){d(!1)}))}}):Object(g.jsx)(B,{goToEditMode:function(){d(!0)},profile:t,isOwner:s})})]})]})},z=a(5),V=a.n(z),W=a(10),Q=a(29),Z=a(9),K="ADD-POST",G="CLEAR-POST",Y="UPDATE-NEW-POST-TEXT",q="SET-USER-PROFILE",X="SET-STATUS",$="DELETE-POST",ee="SAVE-PHOTO-SUCCESS",te="RESPONSE-ERROR",ae={posts:[{id:1,message:"Hi! How are you?",likesCount:"5"},{id:2,message:"It`s my first post",likesCount:"3"},{id:3,message:"BlaBla",likesCount:"2"},{id:4,message:"Dada",likesCount:"2"}],newPostText:"new post text",profile:null,status:"",responseError:null},ne=function(e){return{type:X,status:e}},re=function(e){return function(){var t=Object(W.a)(V.a.mark((function t(a){var n;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.b.getProfile(e);case 2:n=t.sent,a((r=n.data,{type:q,profile:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:var a={id:e.posts.length+1,message:e.newPostText,likesCount:"0"};return Object(m.a)(Object(m.a)({},e),{},{posts:[].concat(Object(Q.a)(e.posts),[a]),newPostText:""});case G:return Object(m.a)(Object(m.a)({},e),{},{newPostText:""});case Y:return Object(m.a)(Object(m.a)({},e),{},{newPostText:t.newText});case X:return Object(m.a)(Object(m.a)({},e),{},{status:t.status});case q:return Object(m.a)(Object(m.a)({},e),{},{profile:t.profile});case $:return Object(m.a)(Object(m.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.postId}))});case ee:return Object(m.a)(Object(m.a)({},e),{},{profile:Object(m.a)(Object(m.a)({},e.profile),{},{photos:t.photos})});case te:return Object(m.a)(Object(m.a)({},e),{},{responseError:t.responseError});default:return e}},ce=a(19),ie=a.n(ce),oe=a(35),ue=a.n(oe),le=a.p+"static/media/ava-1.d75cc7d0.webp",de=a(41),je=function(e){var t=e.message,a=e.likesCount;return Object(g.jsxs)("div",{className:ue.a.item,children:[Object(g.jsx)("img",{className:ue.a.avatar,src:le,alt:"avatar"}),Object(g.jsx)("div",{className:ue.a.post,children:t}),Object(g.jsx)("div",{className:ue.a.like,children:Object(g.jsxs)("p",{children:[Object(g.jsx)(de.a,{icon:["fas","heart"],size:"lg",fixedWidth:!0})," ",a]})})]})},pe=s.a.memo((function(e){var t=e.posts.map((function(e){return Object(g.jsx)(je,{message:e.message,likesCount:e.likesCount},e.id)})),a=s.a.createRef();return Object(g.jsxs)("div",{className:ie.a.container,children:[Object(g.jsx)("h3",{className:ie.a.title,children:"My posts"}),Object(g.jsxs)("div",{className:ie.a.post__area,children:[Object(g.jsx)("textarea",{className:ie.a.textarea,name:"message",id:"messageArea",cols:"30",rows:"10",placeholder:"Enter your message",ref:a,value:e.newPostText,onChange:function(){var t=a.current.value;e.updateNewPostText(t)}}),Object(g.jsxs)("div",{className:ie.a.post__footer,children:[Object(g.jsx)("button",{className:ie.a.posts__btn,type:"submit",onClick:function(){e.addPost()},children:"Add post"}),Object(g.jsx)("button",{className:ie.a.posts__btn,type:"submit",onClick:function(){e.clearPost()},children:"Clear post"})]}),Object(g.jsx)("hr",{}),Object(g.jsx)("div",{className:ie.a.posts,children:t})]})]})})),be=Object(O.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),{updateNewPostText:function(e){return{type:Y,newText:e}},clearPost:function(){return{type:G}},addPost:function(){return{type:K}}})(pe),fe=function(e){var t=e.profile,a=e.status,n=e.updateStatus,r=e.savePhoto,s=e.isOwner,c=e.saveProfile;return Object(g.jsxs)("div",{children:[Object(g.jsx)(H,{profile:t,status:a,updateStatus:n,savePhoto:r,isOwner:s,saveProfile:c}),Object(g.jsx)(be,{})]})},Oe=a(58),he=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(g.jsx)("div",{children:Object(g.jsx)(fe,Object(m.a)(Object(m.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))})}}]),a}(s.a.Component),me=Object(h.compose)(Object(O.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:re,getStatus:function(e){return function(){var t=Object(W.a)(V.a.mark((function t(a){var n;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.b.getStatus(e);case 2:n=t.sent,a(ne(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(W.a)(V.a.mark((function t(a){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&a(ne(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(W.a)(V.a.mark((function t(a){var n;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.b.savePhoto(e);case 2:0===(n=t.sent).data.resultCode&&a((r=n.data.data.photos,{type:ee,photos:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(W.a)(V.a.mark((function t(a,n){var r,s;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth.userId,t.next=3,Z.b.saveProfile(e);case 3:if(0!==(s=t.sent).data.resultCode){t.next=8;break}a(re(r)),t.next=10;break;case 8:return a((c="Error: ".concat(s.data.messages[0]),{type:te,responseError:c})),t.abrupt("return",Promise.reject(s.data.messages[0]));case 10:case"end":return t.stop()}var c}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}),b.g,Oe.a)(he),ve=function(e){return function(t){return Object(g.jsx)(r.Suspense,{fallback:Object(g.jsx)(k.a,{}),children:Object(g.jsx)(e,Object(m.a)({},t))})}},xe="INITIALIZED_SUCCESS",ge={initialized:!1},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return Object(m.a)(Object(m.a)({},e),{},{initialized:!0});default:return e}},ye=a(59),Pe=a(60),Se=a(39),Ne="UPDATE_FORM_STATE";var we=a(62),Ee=a(30),Ae=Ee.createStore,ke=Ee.combineReducers,Te=Ee.applyMiddleware,Le=Ee.compose,Ce=Ae(ke({profilePage:se,dialogsPage:ye.a,usersPage:Pe.a,auth:y.a,finalForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case Ne:return Object(m.a)(Object(m.a)({},e),{},Object(Se.a)({},t.form,t.payload));default:return e}},app:_e}),(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Le)(Te(we.a)));window.__store__=Ce;var Me=Ce,Ie=s.a.lazy((function(){return a.e(4).then(a.bind(null,106))})),Fe=s.a.lazy((function(){return a.e(6).then(a.bind(null,103))})),Ue=s.a.lazy((function(){return a.e(3).then(a.bind(null,105))})),De=s.a.lazy((function(){return a.e(5).then(a.bind(null,104))})),Re=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(g.jsxs)("div",{className:"app-wrapper",children:[Object(g.jsx)(S,{}),Object(g.jsx)(E,{}),Object(g.jsx)("div",{className:"app-wrapper-content",children:Object(g.jsxs)(b.d,{children:[Object(g.jsx)(b.a,{exact:!0,from:"/",to:"/profile"}),Object(g.jsx)(b.b,{path:"/profile/:userId?",render:function(){return Object(g.jsx)(me,{})}}),Object(g.jsx)(b.b,{path:"/dialogs",render:ve(Ie)}),Object(g.jsx)(b.b,{path:"/users",render:ve(Ue)}),Object(g.jsx)(b.b,{path:"/login",render:ve(Fe)}),Object(g.jsx)(b.b,{path:"*",render:ve(De)})]})})]}):Object(g.jsx)(k.a,{})}}]),a}(s.a.Component),Be=Object(h.compose)(b.g,Object(O.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Object(y.b)());Promise.all([t]).then((function(){e({type:xe})}))}}}))(Re),Je=function(){return Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(f.a,{children:Object(g.jsx)(O.a,{store:Me,children:Object(g.jsx)(Be,{})})})})};i.a.render(Object(g.jsx)(Je,{}),document.getElementById("root")),n()}},[[95,1,2]]]);
//# sourceMappingURL=main.bfdbf732.chunk.js.map