(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{16:function(t,e,n){t.exports={profile__top:"Profileinfo_profile__top__1CgO1",profile__area:"Profileinfo_profile__area__1FYpz",avatar__large:"Profileinfo_avatar__large__2mI0w",avatar__input:"Profileinfo_avatar__input__4uyLA","upload-container":"Profileinfo_upload-container__3IorD",dragover:"Profileinfo_dragover__OjhTY",input__label:"Profileinfo_input__label__MS86t",profileStatus:"Profileinfo_profileStatus__fftkT",inputStatus:"Profileinfo_inputStatus__9NWKb"}},18:function(t,e,n){t.exports={container:"MyPosts_container__2ZEfq",title:"MyPosts_title__36jzM",post__area:"MyPosts_post__area__3N5ub",textarea:"MyPosts_textarea__3vA5y",post__footer:"MyPosts_post__footer__2u-0C",posts__btn:"MyPosts_posts__btn__27v15",item:"MyPosts_item__OG_Xx",avatar:"MyPosts_avatar__24E8e",post:"MyPosts_post__2WHjF"}},24:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return l}));var a=n(2),r=n(7),s="SET-USER-DATA",i={userId:null,email:null,login:null,isAuth:!1,authError:null},c=function(t,e,n,a,r){return{type:s,payload:{userId:t,email:e,login:n,isAuth:a,authError:r}}},o=function(){return function(t){return r.a.me().then((function(e){if(0===e.data.resultCode){var n=e.data.data,a=n.id,r=n.login,s=n.email;t(c(a,s,r,!0,null))}}))}},u=function(t,e,n){return function(a){r.a.login(t,e,n).then((function(t){if(0===t.data.resultCode)a(o());else{var e="Error: ".concat(t.data.messages);a(c(null,null,null,!1,e))}}))}},l=function(){return function(t){r.a.logout().then((function(e){0===e.data.resultCode&&t(c(null,null,null,!1))}))}};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case s:return Object(a.a)(Object(a.a)({},t),e.payload);default:return t}}},25:function(t,e,n){"use strict";var a=n(36),r=n(1);e.a=function(){return Object(r.jsx)("div",{children:Object(r.jsx)(a.a,{icon:["fas","spinner"],size:"lg",pulse:!0})})}},30:function(t,e,n){t.exports={header:"Header_header__1Hwsj",header__logo:"Header_header__logo__3C1pZ",header__title:"Header_header__title__D902-"}},31:function(t,e,n){t.exports={item:"Post_item__32iEG",avatar:"Post_avatar__3sPOd",post:"Post_post__3LW9b",like:"Post_like__wVZI9"}},53:function(t,e,n){"use strict";e.a=n.p+"static/media/samurai.a186db41.svg"},54:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var a=n(2),r=n(19),s=n(20),i=n(22),c=n(21),o=n(0),u=n.n(o),l=n(5),d=n(14),p=n(1),f=function(t){return{isAuth:t.auth.isAuth}},j=function(t){var e=function(e){Object(i.a)(o,e);var n=Object(c.a)(o);function o(){return Object(r.a)(this,o),n.apply(this,arguments)}return Object(s.a)(o,[{key:"render",value:function(){return this.props.isAuth?Object(p.jsx)(t,Object(a.a)({},this.props)):Object(p.jsx)(l.a,{to:"/login"})}}]),o}(u.a.Component);return Object(d.b)(f)(e)}},55:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return u}));var a=n(26),r=n(2),s="UPDATE-NEW-MESSAGE-BODY",i="SEND-MESSAGE",c={dialogs:[{id:1,name:"Dimych"},{id:2,name:"Andrey"},{id:3,name:"Sveta"},{id:4,name:"Sasha"},{id:5,name:"Victor"},{id:6,name:"Valera"}],messages:[{id:1,message:"Hi!"},{id:2,message:"How are you?"},{id:3,message:"Bebebe"},{id:4,message:"Yo"},{id:5,message:"Who am I?"}],newMessageBody:""},o=function(){return{type:i}},u=function(t){return{type:s,body:t}};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case s:return Object(r.a)(Object(r.a)({},t),{},{newMessageBody:e.body});case i:var n=t.newMessageBody;return Object(r.a)(Object(r.a)({},t),{},{newMessageBody:"",messages:[].concat(Object(a.a)(t.messages),[{id:t.messages.length+1,message:n}])});default:return t}}},56:function(t,e,n){"use strict";n.d(e,"d",(function(){return v})),n.d(e,"e",(function(){return x})),n.d(e,"c",(function(){return _})),n.d(e,"b",(function(){return S})),n.d(e,"f",(function(){return P}));var a=n(6),r=n.n(a),s=n(17),i=n(26),c=n(2),o=n(7),u="FOLLOW",l="UNFOLLOW",d="SET-USERS",p="SET-CURRENT-PAGE",f="SET-TOTAL-USERS-COUNT",j="TOGGLE-IS-FETCHING",b="TOGGLE-IS-FOLLOWING-PROGRESS",O={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},h=function(t){return{type:u,userId:t}},m=function(t){return{type:l,userId:t}},v=function(t){return{type:p,currentPage:t}},g=function(t){return{type:j,isFetching:t}},x=function(t,e){return{type:b,isFetching:t,userId:e}},_=function(t,e){return function(){var n=Object(s.a)(r.a.mark((function n(a){var s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(g(!0)),a(v(t)),n.next=4,o.c.getUsers(t,e);case 4:s=n.sent,a(g(!1)),a((i=s.items,{type:d,users:i})),a((r=s.totalCount,{type:f,count:r}));case 8:case"end":return n.stop()}var r,i}),n)})));return function(t){return n.apply(this,arguments)}}()},y=function(){var t=Object(s.a)(r.a.mark((function t(e,n,a,s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(x(!0,n)),t.next=3,a(n);case 3:0==t.sent.data.resultCode&&e(s(n)),e(x(!1,n));case 6:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),S=function(t){return function(){var e=Object(s.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(n,t,o.c.follow.bind(o.c),h);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},P=function(t){return function(){var e=Object(s.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(n,t,o.c.unfollow.bind(o.c),m);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case u:return Object(c.a)(Object(c.a)({},t),{},{users:t.users.map((function(t){return t.id===e.userId?Object(c.a)(Object(c.a)({},t),{},{followed:!0}):t}))});case l:return Object(c.a)(Object(c.a)({},t),{},{users:t.users.map((function(t){return t.id===e.userId?Object(c.a)(Object(c.a)({},t),{},{followed:!1}):t}))});case d:return Object(c.a)(Object(c.a)({},t),{},{users:e.users});case p:return Object(c.a)(Object(c.a)({},t),{},{currentPage:e.currentPage});case f:return Object(c.a)(Object(c.a)({},t),{},{totalUsersCount:e.count});case j:return Object(c.a)(Object(c.a)({},t),{},{isFetching:e.isFetching});case b:return Object(c.a)(Object(c.a)({},t),{},{followingInProgress:e.isFetching?[].concat(Object(i.a)(t.followingInProgress),[e.userId]):t.followingInProgress.filter((function(t){return t!=e.userId}))});default:return t}}},63:function(t,e,n){},66:function(t,e,n){},7:function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return c}));var a=n(57),r=a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"6d42916e-ad19-4ca0-a218-14ad30106c58"}}),s={getUsers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return r.get("users?page=".concat(t,"&count=").concat(e)).then((function(t){return t.data}))},follow:function(t){return r.post("follow/".concat(t))},unfollow:function(t){return r.delete("follow/".concat(t))}},i={getProfile:function(t){return r.get("profile/".concat(t))},getStatus:function(t){return r.get("profile/status/".concat(t))},updateStatus:function(t){return r.put("profile/status",{status:t})},savePhoto:function(t){var e=new FormData;return e.append("image",t),r.put("profile/photo",e,{headers:{"Content-Type":"multipart/form-data"}})}},c={me:function(){return r.get("auth/me")},login:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.post("auth/login",{email:t,password:e,rememberMe:n})},logout:function(){return r.delete("auth/login")}}},89:function(t,e,n){},9:function(t,e,n){t.exports={nav:"Navbar_nav__1ayiN",item:"Navbar_item__YHNin",active:"Navbar_active__2lUO4"}},91:function(t,e,n){"use strict";n.r(e);var a=function(t){t&&t instanceof Function&&n.e(7).then(n.bind(null,100)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),s(t),i(t)}))},r=n(0),s=n.n(r),i=n(33),c=n.n(i),o=(n(63),n(23)),u=n(41);o.b.add(u.a,u.b);var l=n(19),d=n(20),p=n(22),f=n(21),j=(n(66),n(5)),b=n(15),O=n(14),h=n(27),m=n(2),v=n(30),g=n.n(v),x=n(1),_=function(t){var e=t.isAuth,n=t.login,a=t.logout;return Object(x.jsxs)("header",{className:g.a.header,children:[Object(x.jsx)("img",{className:g.a.header__logo,src:"data:image/png;base64,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",alt:"logo"}),Object(x.jsx)("h1",{className:g.a.header__title,children:"React Samurai"}),Object(x.jsx)("div",{className:g.a.loginBlock,children:e?Object(x.jsxs)("div",{children:[n," -- ",Object(x.jsx)("button",{onClick:a,children:"Log out"})," "]}):Object(x.jsx)(b.b,{to:"/login",children:"Login"})})]})},y=n(24),S=function(t){Object(p.a)(n,t);var e=Object(f.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(x.jsx)(_,Object(m.a)({},this.props))}}]),n}(s.a.Component),P=Object(O.b)((function(t){return{isAuth:t.auth.isAuth,login:t.auth.login}}),{logout:y.d})(S),w=n(9),E=n.n(w),N=function(){return Object(x.jsxs)("nav",{className:E.a.nav,children:[Object(x.jsx)("div",{className:E.a.item,children:Object(x.jsx)(b.b,{to:"/profile",activeClassName:E.a.active,children:"Profile"})}),Object(x.jsx)("div",{className:E.a.item,children:Object(x.jsx)(b.b,{to:"/dialogs",activeClassName:E.a.active,children:"Messages"})}),Object(x.jsx)("div",{className:E.a.item,children:Object(x.jsx)(b.b,{to:"/news",activeClassName:E.a.active,children:"News"})}),Object(x.jsx)("div",{className:E.a.item,children:Object(x.jsx)(b.b,{to:"/music",activeClassName:E.a.active,children:"Music"})}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{className:E.a.item,children:Object(x.jsx)(b.b,{to:"/users",activeClassName:E.a.active,children:"Find users"})}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{className:E.a.item,children:Object(x.jsx)(b.b,{to:"/settings",activeClassName:E.a.active,children:"Settings"})})]})},A=(n(89),n(25)),T=n(16),k=n.n(T),I=n(40),L=function(t){var e=Object(r.useState)(!1),n=Object(I.a)(e,2),a=n[0],s=n[1],i=Object(r.useState)(t.status),c=Object(I.a)(i,2),o=c[0],u=c[1];Object(r.useEffect)((function(){u(t.status)}),[t.status]);return Object(x.jsxs)("div",{className:k.a.profileStatus,children:[!a&&Object(x.jsx)("div",{children:Object(x.jsx)("span",{onDoubleClick:function(){s(!0)},children:t.status||"-------"})}),a&&Object(x.jsx)("div",{children:Object(x.jsx)("textarea",{className:k.a.inputStatus,onChange:function(t){u(t.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!1),t.updateStatus(o)},value:o})})]})},C=n(53),M=function(t){var e=t.profile,n=t.status,a=t.updateStatus,r=t.isOwner,s=t.savePhoto;if(!e)return Object(x.jsx)(A.a,{});return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:k.a.profile__top}),Object(x.jsxs)("div",{className:k.a.profile__area,children:[Object(x.jsx)("img",{className:k.a.avatar__large,src:e.photos.large||C.a}),Object(x.jsx)("div",{className:k.a.avatar__input,children:Object(x.jsxs)("label",{className:k.a.input__label,children:[r&&Object(x.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&s(t.target.files[0])}}),">> \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u0432\u0430\u0442\u0430\u0440 <<"]})}),Object(x.jsxs)("p",{children:["Full Name: ",Object(x.jsxs)("span",{className:k.a.profileStatus,children:[" ",e.fullName]})]}),Object(x.jsxs)("p",{children:["About me: ",Object(x.jsxs)("span",{className:k.a.profileStatus,children:[" ",e.aboutMe]})]}),Object(x.jsxs)("div",{children:["Status (change on click): ",Object(x.jsx)(L,{status:n,updateStatus:a})]})]})]})},U=n(6),R=n.n(U),D=n(17),F=n(26),B=n(7),H="ADD-POST",z="CLEAR-POST",V="UPDATE-NEW-POST-TEXT",W="SET-USER-PROFILE",J="SET-STATUS",Q="DELETE_POST",Z="SAVE_PHOTO_SUCCESS",K={posts:[{id:1,message:"Hi! How are you?",likesCount:"5"},{id:2,message:"It`s my first post",likesCount:"3"},{id:3,message:"BlaBla",likesCount:"2"},{id:4,message:"Dada",likesCount:"2"}],newPostText:"new post text",profile:null,status:""},G=function(t){return{type:J,status:t}},Y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case H:var n={id:t.posts.length+1,message:t.newPostText,likesCount:"0"};return Object(m.a)(Object(m.a)({},t),{},{posts:[].concat(Object(F.a)(t.posts),[n]),newPostText:""});case z:return Object(m.a)(Object(m.a)({},t),{},{newPostText:""});case V:return Object(m.a)(Object(m.a)({},t),{},{newPostText:e.newText});case J:return Object(m.a)(Object(m.a)({},t),{},{status:e.status});case W:return Object(m.a)(Object(m.a)({},t),{},{profile:e.profile});case Q:return Object(m.a)(Object(m.a)({},t),{},{posts:t.posts.filter((function(t){return t.id!=e.postId}))});case Z:return Object(m.a)(Object(m.a)({},t),{},{profile:Object(m.a)(Object(m.a)({},t.profile),{},{photos:e.photos})});default:return t}},q=n(18),X=n.n(q),$=n(31),tt=n.n($),et=n.p+"static/media/ava-1.d75cc7d0.webp",nt=n(36),at=function(t){var e=t.message,n=t.likesCount;return Object(x.jsxs)("div",{className:tt.a.item,children:[Object(x.jsx)("img",{className:tt.a.avatar,src:et,alt:"avatar"}),Object(x.jsx)("div",{className:tt.a.post,children:e}),Object(x.jsx)("div",{className:tt.a.like,children:Object(x.jsxs)("p",{children:[Object(x.jsx)(nt.a,{icon:["fas","heart"],size:"lg",fixedWidth:!0})," ",n]})})]})},rt=s.a.memo((function(t){var e=t.posts.map((function(t){return Object(x.jsx)(at,{message:t.message,likesCount:t.likesCount},t.id)})),n=s.a.createRef();return Object(x.jsxs)("div",{className:X.a.container,children:[Object(x.jsx)("h3",{className:X.a.title,children:"My posts"}),Object(x.jsxs)("div",{className:X.a.post__area,children:[Object(x.jsx)("textarea",{className:X.a.textarea,name:"message",id:"messageArea",cols:"30",rows:"10",placeholder:"Enter your message",ref:n,value:t.newPostText,onChange:function(){var e=n.current.value;t.updateNewPostText(e)}}),Object(x.jsxs)("div",{className:X.a.post__footer,children:[Object(x.jsx)("button",{className:X.a.posts__btn,type:"submit",onClick:function(){t.addPost()},children:"Add post"}),Object(x.jsx)("button",{className:X.a.posts__btn,type:"submit",onClick:function(){t.clearPost()},children:"Clear post"})]}),Object(x.jsx)("hr",{}),Object(x.jsx)("div",{className:X.a.posts,children:e})]})]})})),st=Object(O.b)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),{updateNewPostText:function(t){return{type:V,newText:t}},clearPost:function(){return{type:z}},addPost:function(){return{type:H}}})(rt),it=function(t){var e=t.profile,n=t.status,a=t.updateStatus,r=t.savePhoto,s=t.isOwner;return Object(x.jsxs)("div",{children:[Object(x.jsx)(M,{profile:e,status:n,updateStatus:a,savePhoto:r,isOwner:s}),Object(x.jsx)(st,{})]})},ct=n(54),ot=function(t){Object(p.a)(n,t);var e=Object(f.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t){this.props.match.params.userId!=t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsx)(it,Object(m.a)(Object(m.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))})}}]),n}(s.a.Component),ut=Object(h.compose)(Object(O.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:function(t){return function(){var e=Object(D.a)(R.a.mark((function e(n){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.b.getProfile(t);case 2:a=e.sent,n((r=a.data,{type:W,profile:r}));case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()},getStatus:function(t){return function(){var e=Object(D.a)(R.a.mark((function e(n){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.b.getStatus(t);case 2:a=e.sent,n(G(a.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},updateStatus:function(t){return function(){var e=Object(D.a)(R.a.mark((function e(n){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.b.updateStatus(t);case 2:0===e.sent.data.resultCode&&n(G(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},savePhoto:function(t){return function(){var e=Object(D.a)(R.a.mark((function e(n){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.b.savePhoto(t);case 2:0===(a=e.sent).data.resultCode&&n((r=a.data.data.photos,{type:Z,photos:r}));case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()}}),j.f,ct.a)(ot),lt=function(t){return function(e){return Object(x.jsx)(r.Suspense,{fallback:Object(x.jsx)(A.a,{}),children:Object(x.jsx)(t,Object(m.a)({},e))})}},dt="INITIALIZED_SUCCESS",pt={initialized:!1},ft=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case dt:return Object(m.a)(Object(m.a)({},t),{},{initialized:!0});default:return t}},jt=n(55),bt=n(56),Ot=n(35),ht="UPDATE_FORM_STATE";var mt=n(58),vt=n(27),gt=vt.createStore,xt=vt.combineReducers,_t=vt.applyMiddleware,yt=vt.compose,St=gt(xt({profilePage:Y,dialogsPage:jt.a,usersPage:bt.a,auth:y.a,finalForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case ht:return Object(m.a)(Object(m.a)({},t),{},Object(Ot.a)({},e.form,e.payload));default:return t}},app:ft}),(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||yt)(_t(mt.a)));window.__store__=St;var Pt=St,wt=s.a.lazy((function(){return n.e(4).then(n.bind(null,103))})),Et=s.a.lazy((function(){return Promise.all([n.e(6),n.e(5)]).then(n.bind(null,101))})),Nt=s.a.lazy((function(){return n.e(3).then(n.bind(null,102))})),At=function(t){Object(p.a)(n,t);var e=Object(f.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(x.jsxs)("div",{className:"app-wrapper",children:[Object(x.jsx)(P,{}),Object(x.jsx)(N,{}),Object(x.jsxs)("div",{className:"app-wrapper-content",children:[Object(x.jsx)(j.b,{path:"/profile/:userId?",render:function(){return Object(x.jsx)(ut,{})}}),Object(x.jsx)(j.b,{path:"/dialogs",render:lt(wt)}),Object(x.jsx)(j.b,{path:"/users",render:lt(Nt)}),Object(x.jsx)(j.b,{path:"/login",render:lt(Et)})]})]}):Object(x.jsx)(A.a,{})}}]),n}(s.a.Component),Tt=Object(h.compose)(j.f,Object(O.b)((function(t){return{initialized:t.app.initialized}}),{initializeApp:function(){return function(t){var e=t(Object(y.b)());Promise.all([e]).then((function(){t({type:dt})}))}}}))(At),kt=function(){return Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(b.a,{children:Object(x.jsx)(O.a,{store:Pt,children:Object(x.jsx)(Tt,{})})})})};c.a.render(Object(x.jsx)(kt,{}),document.getElementById("root")),a()}},[[91,1,2]]]);
//# sourceMappingURL=main.456a7966.chunk.js.map