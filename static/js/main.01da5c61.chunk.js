(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{17:function(t,e,n){t.exports={container:"MyPosts_container__2ZEfq",title:"MyPosts_title__36jzM",post__area:"MyPosts_post__area__3N5ub",textarea:"MyPosts_textarea__3vA5y",post__footer:"MyPosts_post__footer__2u-0C",posts__btn:"MyPosts_posts__btn__27v15",item:"MyPosts_item__OG_Xx",avatar:"MyPosts_avatar__24E8e",post:"MyPosts_post__2WHjF"}},23:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return l}));var a=n(2),r=n(8),s="SET-USER-DATA",c={userId:null,email:null,login:null,isAuth:!1,authError:null},i=function(t,e,n,a,r){return{type:s,payload:{userId:t,email:e,login:n,isAuth:a,authError:r}}},o=function(){return function(t){return r.a.me().then((function(e){if(0===e.data.resultCode){var n=e.data.data,a=n.id,r=n.login,s=n.email;t(i(a,s,r,!0,null))}}))}},u=function(t,e,n){return function(a){r.a.login(t,e,n).then((function(t){if(0===t.data.resultCode)a(o());else{var e="Error: ".concat(t.data.messages);a(i(null,null,null,!1,e))}}))}},l=function(){return function(t){r.a.logout().then((function(e){0===e.data.resultCode&&t(i(null,null,null,!1))}))}};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case s:return Object(a.a)(Object(a.a)({},t),e.payload);default:return t}}},24:function(t,e,n){"use strict";var a=n(35),r=n(1);e.a=function(){return Object(r.jsx)("div",{children:Object(r.jsx)(a.a,{icon:["fas","spinner"],size:"lg",pulse:!0})})}},29:function(t,e,n){t.exports={header:"Header_header__1Hwsj",header__logo:"Header_header__logo__3C1pZ",header__title:"Header_header__title__D902-"}},30:function(t,e,n){t.exports={item:"Post_item__32iEG",avatar:"Post_avatar__3sPOd",post:"Post_post__3LW9b",like:"Post_like__wVZI9"}},37:function(t,e,n){t.exports={profile__top:"Profileinfo_profile__top__1CgO1",profile__area:"Profileinfo_profile__area__1FYpz",avatar__large:"Profileinfo_avatar__large__2mI0w"}},53:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var a=n(2),r=n(18),s=n(19),c=n(21),i=n(20),o=n(0),u=n.n(o),l=n(5),d=n(14),j=n(1),f=function(t){return{isAuth:t.auth.isAuth}},p=function(t){var e=function(e){Object(c.a)(o,e);var n=Object(i.a)(o);function o(){return Object(r.a)(this,o),n.apply(this,arguments)}return Object(s.a)(o,[{key:"render",value:function(){return this.props.isAuth?Object(j.jsx)(t,Object(a.a)({},this.props)):Object(j.jsx)(l.a,{to:"/login"})}}]),o}(u.a.Component);return Object(d.b)(f)(e)}},54:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return u}));var a=n(25),r=n(2),s="UPDATE-NEW-MESSAGE-BODY",c="SEND-MESSAGE",i={dialogs:[{id:1,name:"Dimych"},{id:2,name:"Andrey"},{id:3,name:"Sveta"},{id:4,name:"Sasha"},{id:5,name:"Victor"},{id:6,name:"Valera"}],messages:[{id:1,message:"Hi!"},{id:2,message:"How are you?"},{id:3,message:"Bebebe"},{id:4,message:"Yo"},{id:5,message:"Who am I?"}],newMessageBody:""},o=function(){return{type:c}},u=function(t){return{type:s,body:t}};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case s:return Object(r.a)(Object(r.a)({},t),{},{newMessageBody:e.body});case c:var n=t.newMessageBody;return Object(r.a)(Object(r.a)({},t),{},{newMessageBody:"",messages:[].concat(Object(a.a)(t.messages),[{id:t.messages.length+1,message:n}])});default:return t}}},55:function(t,e,n){"use strict";n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return x})),n.d(e,"c",(function(){return y})),n.d(e,"b",(function(){return E})),n.d(e,"f",(function(){return S}));var a=n(6),r=n.n(a),s=n(16),c=n(25),i=n(2),o=n(8),u="FOLLOW",l="UNFOLLOW",d="SET-USERS",j="SET-CURRENT-PAGE",f="SET-TOTAL-USERS-COUNT",p="TOGGLE-IS-FETCHING",b="TOGGLE-IS-FOLLOWING-PROGRESS",O={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},h=function(t){return{type:u,userId:t}},g=function(t){return{type:l,userId:t}},m=function(t){return{type:j,currentPage:t}},v=function(t){return{type:p,isFetching:t}},x=function(t,e){return{type:b,isFetching:t,userId:e}},y=function(t,e){return function(){var n=Object(s.a)(r.a.mark((function n(a){var s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(v(!0)),a(m(t)),n.next=4,o.c.getUsers(t,e);case 4:s=n.sent,a(v(!1)),a((c=s.items,{type:d,users:c})),a((r=s.totalCount,{type:f,count:r}));case 8:case"end":return n.stop()}var r,c}),n)})));return function(t){return n.apply(this,arguments)}}()},w=function(){var t=Object(s.a)(r.a.mark((function t(e,n,a,s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(x(!0,n)),t.next=3,a(n);case 3:0==t.sent.data.resultCode&&e(s(n)),e(x(!1,n));case 6:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),E=function(t){return function(){var e=Object(s.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(n,t,o.c.follow.bind(o.c),h);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(t){return function(){var e=Object(s.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(n,t,o.c.unfollow.bind(o.c),g);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case u:return Object(i.a)(Object(i.a)({},t),{},{users:t.users.map((function(t){return t.id===e.userId?Object(i.a)(Object(i.a)({},t),{},{followed:!0}):t}))});case l:return Object(i.a)(Object(i.a)({},t),{},{users:t.users.map((function(t){return t.id===e.userId?Object(i.a)(Object(i.a)({},t),{},{followed:!1}):t}))});case d:return Object(i.a)(Object(i.a)({},t),{},{users:e.users});case j:return Object(i.a)(Object(i.a)({},t),{},{currentPage:e.currentPage});case f:return Object(i.a)(Object(i.a)({},t),{},{totalUsersCount:e.count});case p:return Object(i.a)(Object(i.a)({},t),{},{isFetching:e.isFetching});case b:return Object(i.a)(Object(i.a)({},t),{},{followingInProgress:e.isFetching?[].concat(Object(c.a)(t.followingInProgress),[e.userId]):t.followingInProgress.filter((function(t){return t!=e.userId}))});default:return t}}},62:function(t,e,n){},65:function(t,e,n){},8:function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return i}));var a=n(56),r=a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"6d42916e-ad19-4ca0-a218-14ad30106c58"}}),s={getUsers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return r.get("users?page=".concat(t,"&count=").concat(e)).then((function(t){return t.data}))},follow:function(t){return r.post("follow/".concat(t))},unfollow:function(t){return r.delete("follow/".concat(t))}},c={getProfile:function(t){return r.get("profile/".concat(t))},getStatus:function(t){return r.get("profile/status/".concat(t))},updateStatus:function(t){return r.put("profile/status",{status:t})}},i={me:function(){return r.get("auth/me")},login:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.post("auth/login",{email:t,password:e,rememberMe:n})},logout:function(){return r.delete("auth/login")}}},88:function(t,e,n){},9:function(t,e,n){t.exports={nav:"Navbar_nav__1ayiN",item:"Navbar_item__YHNin",active:"Navbar_active__2lUO4"}},90:function(t,e,n){"use strict";n.r(e);var a=function(t){t&&t instanceof Function&&n.e(7).then(n.bind(null,99)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,s=e.getLCP,c=e.getTTFB;n(t),a(t),r(t),s(t),c(t)}))},r=n(0),s=n.n(r),c=n(32),i=n.n(c),o=(n(62),n(22)),u=n(41);o.b.add(u.a,u.b);var l=n(18),d=n(19),j=n(21),f=n(20),p=(n(65),n(5)),b=n(15),O=n(14),h=n(26),g=n(2),m=n(29),v=n.n(m),x=n(1),y=function(t){var e=t.isAuth,n=t.login,a=t.logout;return Object(x.jsxs)("header",{className:v.a.header,children:[Object(x.jsx)("img",{className:v.a.header__logo,src:"data:image/png;base64,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",alt:"logo"}),Object(x.jsx)("h1",{className:v.a.header__title,children:"React Samurai"}),Object(x.jsx)("div",{className:v.a.loginBlock,children:e?Object(x.jsxs)("div",{children:[n," -- ",Object(x.jsx)("button",{onClick:a,children:"Log out"})," "]}):Object(x.jsx)(b.b,{to:"/login",children:"Login"})})]})},w=n(23),E=function(t){Object(j.a)(n,t);var e=Object(f.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(x.jsx)(y,Object(g.a)({},this.props))}}]),n}(s.a.Component),S=Object(O.b)((function(t){return{isAuth:t.auth.isAuth,login:t.auth.login}}),{logout:w.d})(E),_=n(9),P=n.n(_),A=function(){return Object(x.jsxs)("nav",{className:P.a.nav,children:[Object(x.jsx)("div",{className:P.a.item,children:Object(x.jsx)(b.b,{to:"/profile",activeClassName:P.a.active,children:"Profile"})}),Object(x.jsx)("div",{className:P.a.item,children:Object(x.jsx)(b.b,{to:"/dialogs",activeClassName:P.a.active,children:"Messages"})}),Object(x.jsx)("div",{className:P.a.item,children:Object(x.jsx)(b.b,{to:"/news",activeClassName:P.a.active,children:"News"})}),Object(x.jsx)("div",{className:P.a.item,children:Object(x.jsx)(b.b,{to:"/music",activeClassName:P.a.active,children:"Music"})}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{className:P.a.item,children:Object(x.jsx)(b.b,{to:"/users",activeClassName:P.a.active,children:"Find users"})}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{className:P.a.item,children:Object(x.jsx)(b.b,{to:"/settings",activeClassName:P.a.active,children:"Settings"})})]})},N=(n(88),n(24)),T=n(37),k=n.n(T),L=n(40),I=function(t){var e=Object(r.useState)(!1),n=Object(L.a)(e,2),a=n[0],s=n[1],c=Object(r.useState)(t.status),i=Object(L.a)(c,2),o=i[0],u=i[1];Object(r.useEffect)((function(){u(t.status)}),[t.status]);return Object(x.jsxs)("div",{children:[!a&&Object(x.jsx)("div",{children:Object(x.jsx)("span",{onDoubleClick:function(){s(!0)},children:t.status||"-------"})}),a&&Object(x.jsx)("div",{children:Object(x.jsx)("input",{onChange:function(t){u(t.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!1),t.updateStatus(o)},value:o})})]})},M=function(t){return t.profile?Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:k.a.profile__top}),Object(x.jsxs)("div",{className:k.a.profile__area,children:[Object(x.jsx)("img",{className:k.a.avatar__large,src:t.profile.photos.large}),Object(x.jsxs)("p",{children:["Full Name: ",t.profile.fullName]}),Object(x.jsxs)("p",{children:["About me: ",t.profile.aboutMe]}),Object(x.jsx)("div",{children:Object(x.jsx)(I,{status:t.status,updateStatus:t.updateStatus})})]})]}):Object(x.jsx)(N.a,{})},C=n(6),U=n.n(C),R=n(16),D=n(25),B=n(8),F="ADD-POST",H="CLEAR-POST",z="UPDATE-NEW-POST-TEXT",V="SET-USER-PROFILE",J="SET-STATUS",W="DELETE_POST",Q={posts:[{id:1,message:"Hi! How are you?",likesCount:"5"},{id:2,message:"It`s my first post",likesCount:"3"},{id:3,message:"BlaBla",likesCount:"2"},{id:4,message:"Dada",likesCount:"2"}],newPostText:"new post text",profile:null,status:""},Z=function(t){return{type:J,status:t}},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case F:var n={id:t.posts.length+1,message:t.newPostText,likesCount:"0"};return Object(g.a)(Object(g.a)({},t),{},{posts:[].concat(Object(D.a)(t.posts),[n]),newPostText:""});case H:return Object(g.a)(Object(g.a)({},t),{},{newPostText:""});case z:return Object(g.a)(Object(g.a)({},t),{},{newPostText:e.newText});case J:return Object(g.a)(Object(g.a)({},t),{},{status:e.status});case V:return Object(g.a)(Object(g.a)({},t),{},{profile:e.profile});case W:return Object(g.a)(Object(g.a)({},t),{},{posts:t.posts.filter((function(t){return t.id!=e.postId}))});default:return t}},K=n(17),Y=n.n(K),q=n(30),X=n.n(q),$=n.p+"static/media/ava-1.d75cc7d0.webp",tt=n(35),et=function(t){var e=t.message,n=t.likesCount;return Object(x.jsxs)("div",{className:X.a.item,children:[Object(x.jsx)("img",{className:X.a.avatar,src:$,alt:"avatar"}),Object(x.jsx)("div",{className:X.a.post,children:e}),Object(x.jsx)("div",{className:X.a.like,children:Object(x.jsxs)("p",{children:[Object(x.jsx)(tt.a,{icon:["fas","heart"],size:"lg",fixedWidth:!0})," ",n]})})]})},nt=s.a.memo((function(t){var e=t.posts.map((function(t){return Object(x.jsx)(et,{message:t.message,likesCount:t.likesCount},t.id)})),n=s.a.createRef();return Object(x.jsxs)("div",{className:Y.a.container,children:[Object(x.jsx)("h3",{className:Y.a.title,children:"My posts"}),Object(x.jsxs)("div",{className:Y.a.post__area,children:[Object(x.jsx)("textarea",{className:Y.a.textarea,name:"message",id:"messageArea",cols:"30",rows:"10",placeholder:"Enter your message",ref:n,value:t.newPostText,onChange:function(){var e=n.current.value;t.updateNewPostText(e)}}),Object(x.jsxs)("div",{className:Y.a.post__footer,children:[Object(x.jsx)("button",{className:Y.a.posts__btn,type:"submit",onClick:function(){t.addPost()},children:"Add post"}),Object(x.jsx)("button",{className:Y.a.posts__btn,type:"submit",onClick:function(){t.clearPost()},children:"Clear post"})]}),Object(x.jsx)("hr",{}),Object(x.jsx)("div",{className:Y.a.posts,children:e})]})]})})),at=Object(O.b)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),{updateNewPostText:function(t){return{type:z,newText:t}},clearPost:function(){return{type:H}},addPost:function(){return{type:F}}})(nt),rt=function(t){var e=t.profile,n=t.status,a=t.updateStatus;return Object(x.jsxs)("div",{children:[Object(x.jsx)(M,{profile:e,status:n,updateStatus:a}),Object(x.jsx)(at,{})]})},st=n(53),ct=function(t){Object(j.a)(n,t);var e=Object(f.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsx)(rt,Object(g.a)(Object(g.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))})}}]),n}(s.a.Component),it=Object(h.compose)(Object(O.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:function(t){return function(){var e=Object(R.a)(U.a.mark((function e(n){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.b.getProfile(t);case 2:a=e.sent,n((r=a.data,{type:V,profile:r}));case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()},getStatus:function(t){return function(){var e=Object(R.a)(U.a.mark((function e(n){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.b.getStatus(t);case 2:a=e.sent,n(Z(a.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},updateStatus:function(t){return function(){var e=Object(R.a)(U.a.mark((function e(n){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.b.updateStatus(t);case 2:0===e.sent.data.resultCode&&n(Z(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),p.f,st.a)(ct),ot=function(t){return function(e){return Object(x.jsx)(r.Suspense,{fallback:Object(x.jsx)(N.a,{}),children:Object(x.jsx)(t,Object(g.a)({},e))})}},ut="INITIALIZED_SUCCESS",lt={initialized:!1},dt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case ut:return Object(g.a)(Object(g.a)({},t),{},{initialized:!0});default:return t}},jt=n(54),ft=n(55),pt=n(34),bt="UPDATE_FORM_STATE";var Ot=n(57),ht=n(26),gt=ht.createStore,mt=ht.combineReducers,vt=ht.applyMiddleware,xt=ht.compose,yt=gt(mt({profilePage:G,dialogsPage:jt.a,usersPage:ft.a,auth:w.a,finalForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case bt:return Object(g.a)(Object(g.a)({},t),{},Object(pt.a)({},e.form,e.payload));default:return t}},app:dt}),(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||xt)(vt(Ot.a)));window.__store__=yt;var wt=yt,Et=s.a.lazy((function(){return n.e(4).then(n.bind(null,102))})),St=s.a.lazy((function(){return Promise.all([n.e(6),n.e(5)]).then(n.bind(null,100))})),_t=s.a.lazy((function(){return n.e(3).then(n.bind(null,101))})),Pt=function(t){Object(j.a)(n,t);var e=Object(f.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(x.jsxs)("div",{className:"app-wrapper",children:[Object(x.jsx)(S,{}),Object(x.jsx)(A,{}),Object(x.jsxs)("div",{className:"app-wrapper-content",children:[Object(x.jsx)(p.b,{path:"/profile/:userId?",render:function(){return Object(x.jsx)(it,{})}}),Object(x.jsx)(p.b,{path:"/dialogs",render:ot(Et)}),Object(x.jsx)(p.b,{path:"/users",render:ot(_t)}),Object(x.jsx)(p.b,{path:"/login",render:ot(St)})]})]}):Object(x.jsx)(N.a,{})}}]),n}(s.a.Component),At=Object(h.compose)(p.f,Object(O.b)((function(t){return{initialized:t.app.initialized}}),{initializeApp:function(){return function(t){var e=t(Object(w.b)());Promise.all([e]).then((function(){t({type:ut})}))}}}))(Pt),Nt=function(){return Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(b.a,{children:Object(x.jsx)(O.a,{store:wt,children:Object(x.jsx)(At,{})})})})};i.a.render(Object(x.jsx)(Nt,{}),document.getElementById("root")),a()}},[[90,1,2]]]);
//# sourceMappingURL=main.01da5c61.chunk.js.map